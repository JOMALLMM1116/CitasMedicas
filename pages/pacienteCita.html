<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediCitas - Agendar Cita</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

<div class="patient-container">
    <div class="patient-header animate-in">
        <a class="back-link" href="paciente.html">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
            Volver
        </a>
        <h2>Agendar Cita</h2>
        <p id="patient-welcome">Bienvenido/a, selecciona los datos de tu cita</p>
    </div>

    <div class="patient-content">
        <!-- Steps Indicator -->
        <div class="steps-indicator animate-in">
            <div class="step-dot active" id="step-1">1</div>
            <div class="step-line" id="line-1"></div>
            <div class="step-dot" id="step-2">2</div>
            <div class="step-line" id="line-2"></div>
            <div class="step-dot" id="step-3">3</div>
            <div class="step-line" id="line-3"></div>
            <div class="step-dot" id="step-4">4</div>
        </div>

        <!-- Paso 1: Especialidad -->
        <div id="booking-step-1" class="animate-in">
            <h3 class="section-title">Selecciona una especialidad</h3>
            <div class="specialty-grid">
                <div class="specialty-card" onclick="selectSpecialty(this, 'Medicina General')">
                    <div class="spec-icon">ü©∫</div>
                    <h4>Medicina General</h4>
                </div>
                <div class="specialty-card" onclick="selectSpecialty(this, 'Pediatr√≠a')">
                    <div class="spec-icon">üë∂</div>
                    <h4>Pediatr√≠a</h4>
                </div>
                <div class="specialty-card" onclick="selectSpecialty(this, 'Cardiolog√≠a')">
                    <div class="spec-icon">‚ù§Ô∏è</div>
                    <h4>Cardiolog√≠a</h4>
                </div>
                <div class="specialty-card" onclick="selectSpecialty(this, 'Dermatolog√≠a')">
                    <div class="spec-icon">üî¨</div>
                    <h4>Dermatolog√≠a</h4>
                </div>
                <div class="specialty-card" onclick="selectSpecialty(this, 'Traumatolog√≠a')">
                    <div class="spec-icon">ü¶¥</div>
                    <h4>Traumatolog√≠a</h4>
                </div>
                <div class="specialty-card" onclick="selectSpecialty(this, 'Oftalmolog√≠a')">
                    <div class="spec-icon">üëÅÔ∏è</div>
                    <h4>Oftalmolog√≠a</h4>
                </div>
            </div>
            <div style="margin-top:20px; text-align:right;">
                <button class="btn btn-primary" onclick="goToStep(2)">Siguiente ‚Üí</button>
            </div>
        </div>

        <!-- Paso 2: M√©dico -->
        <div id="booking-step-2" class="hidden">
            <h3 class="section-title">Selecciona un m√©dico</h3>
            <div class="doctor-grid">
                <div class="doctor-card" onclick="selectDoctor(this, 'Dr. Carlos Ram√≠rez')">
                    <div class="doctor-avatar">CR</div>
                    <div class="doctor-info">
                        <h4>Dr. Carlos Ram√≠rez</h4>
                        <p>Medicina General ‚Äî 15 a√±os de experiencia</p>
                    </div>
                </div>
                <div class="doctor-card" onclick="selectDoctor(this, 'Dra. Ana Morales')">
                    <div class="doctor-avatar">AM</div>
                    <div class="doctor-info">
                        <h4>Dra. Ana Morales</h4>
                        <p>Medicina General ‚Äî 8 a√±os de experiencia</p>
                    </div>
                </div>
                <div class="doctor-card" onclick="selectDoctor(this, 'Dr. Luis Hern√°ndez')">
                    <div class="doctor-avatar">LH</div>
                    <div class="doctor-info">
                        <h4>Dr. Luis Hern√°ndez</h4>
                        <p>Medicina General ‚Äî 12 a√±os de experiencia</p>
                    </div>
                </div>
            </div>
            <div style="margin-top:20px; display:flex; justify-content:space-between;">
                <button class="btn btn-secondary" onclick="goToStep(1)">‚Üê Atr√°s</button>
                <button class="btn btn-primary" onclick="goToStep(3)">Siguiente ‚Üí</button>
            </div>
        </div>

        <!-- Paso 3: Fecha y Hora -->
        <div id="booking-step-3" class="hidden">
            <div class="calendar-section">
                <h3 class="section-title">Selecciona fecha</h3>
                <div class="date-picker">
                    <div class="date-item" onclick="selectDate(this, 'Lun 24 Feb')">
                        <div class="day-name">Lun</div><div class="day-num">24</div><div class="month">Feb</div>
                    </div>
                    <div class="date-item" onclick="selectDate(this, 'Mar 25 Feb')">
                        <div class="day-name">Mar</div><div class="day-num">25</div><div class="month">Feb</div>
                    </div>
                    <div class="date-item" onclick="selectDate(this, 'Mi√© 26 Feb')">
                        <div class="day-name">Mi√©</div><div class="day-num">26</div><div class="month">Feb</div>
                    </div>
                    <div class="date-item" onclick="selectDate(this, 'Jue 27 Feb')">
                        <div class="day-name">Jue</div><div class="day-num">27</div><div class="month">Feb</div>
                    </div>
                    <div class="date-item" onclick="selectDate(this, 'Vie 28 Feb')">
                        <div class="day-name">Vie</div><div class="day-num">28</div><div class="month">Feb</div>
                    </div>
                    <div class="date-item" onclick="selectDate(this, 'Lun 03 Mar')">
                        <div class="day-name">Lun</div><div class="day-num">03</div><div class="month">Mar</div>
                    </div>
                    <div class="date-item" onclick="selectDate(this, 'Mar 04 Mar')">
                        <div class="day-name">Mar</div><div class="day-num">04</div><div class="month">Mar</div>
                    </div>
                </div>
            </div>

            <div class="calendar-section">
                <h3 class="section-title">Selecciona hora</h3>
                <div class="time-grid">
                    <div class="time-slot" onclick="selectTime(this, '08:00')">08:00</div>
                    <div class="time-slot" onclick="selectTime(this, '08:30')">08:30</div>
                    <div class="time-slot" onclick="selectTime(this, '09:00')">09:00</div>
                    <div class="time-slot unavailable">09:30</div>
                    <div class="time-slot" onclick="selectTime(this, '10:00')">10:00</div>
                    <div class="time-slot unavailable">10:30</div>
                    <div class="time-slot" onclick="selectTime(this, '11:00')">11:00</div>
                    <div class="time-slot" onclick="selectTime(this, '11:30')">11:30</div>
                    <div class="time-slot" onclick="selectTime(this, '14:00')">14:00</div>
                    <div class="time-slot" onclick="selectTime(this, '14:30')">14:30</div>
                    <div class="time-slot" onclick="selectTime(this, '15:00')">15:00</div>
                    <div class="time-slot unavailable">15:30</div>
                </div>
            </div>

            <div style="margin-top:20px; display:flex; justify-content:space-between;">
                <button class="btn btn-secondary" onclick="goToStep(2)">‚Üê Atr√°s</button>
                <button class="btn btn-primary" onclick="goToStep(4)">Confirmar cita ‚Üí</button>
            </div>
        </div>

        <!-- Paso 4: Resumen -->
        <div id="booking-step-4" class="hidden">
            <div class="confirmation-card animate-scale">
                <div class="check-icon">
                    <svg width="36" height="36" fill="#2E7D32" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                </div>
                <h3 style="font-family:'Playfair Display',serif; font-size:1.5rem; color:var(--primary-dark); margin-bottom:6px;">Resumen de tu cita</h3>
                <p style="color:var(--text-light); font-size:0.9rem; margin-bottom:24px;">Verifica los datos antes de confirmar</p>

                <div style="text-align:left; margin-bottom:24px;">
                    <div class="summary-row"><span class="label">Paciente</span><span class="value" id="sum-patient">‚Äî</span></div>
                    <div class="summary-row"><span class="label">Especialidad</span><span class="value" id="sum-specialty">‚Äî</span></div>
                    <div class="summary-row"><span class="label">M√©dico</span><span class="value" id="sum-doctor">‚Äî</span></div>
                    <div class="summary-row"><span class="label">Fecha</span><span class="value" id="sum-date">‚Äî</span></div>
                    <div class="summary-row" style="border:none;"><span class="label">Hora</span><span class="value" id="sum-time">‚Äî</span></div>
                </div>

                <button class="btn btn-primary btn-full" onclick="confirmAppointment()">Confirmar Cita</button>
                <button class="btn btn-secondary btn-full" style="margin-top:10px;" onclick="goToStep(3)">‚Üê Modificar</button>
            </div>
        </div>

        <!-- Paso 5: √âxito -->
        <div id="booking-step-5" class="hidden">
            <div class="confirmation-card animate-scale" style="padding:48px 36px;">
                <div class="check-icon" style="width:90px;height:90px;">
                    <svg width="48" height="48" fill="#2E7D32" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                </div>
                <h3 style="font-family:'Playfair Display',serif; font-size:1.8rem; color:var(--success); margin-bottom:8px;">¬°Cita agendada con √©xito!</h3>
                <p style="color:var(--text-light); font-size:0.95rem; margin-bottom:8px;">Se ha registrado tu cita correctamente.</p>
                <p style="color:var(--text-muted); font-size:0.85rem; margin-bottom:32px;">Recibir√°s un recordatorio por SMS antes de tu cita.</p>
                <a href="../index.html" class="btn btn-primary">Volver al inicio</a>
            </div>
        </div>
    </div>
</div>

<script src="../js/app.js"></script>
</body>
</html>
